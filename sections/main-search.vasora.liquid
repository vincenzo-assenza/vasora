{% schema %}
{
  "name": "Main search (Vasora)",
  "settings": [],
  "presets": [{"name":"Search"}]
}
{% endschema %}
<div class="search-page vasora">
  <h1>Search results for "{{ search.terms | escape }}"</h1>
  <form action="/search" method="get">
    <label for="q_vasora">Search</label>
    <input id="q_vasora" name="q" type="search" value="{{ search.terms }}" />
    <button type="submit">Search</button>
  </form>
  <div id="search-count" aria-live="polite">{% if search.results_count %}{{ search.results_count }} results{% endif %}</div>

  {% if search.results_count == 0 %}
    <div class="search-empty"><h2>No results found</h2><p>Try checking your spelling or using different keywords.</p></div>
  {% else %}
    <div class="search-results">
      {% paginate search.results by 12 %}
        {% for item in search.results %}
          {% if item.object_type == 'product' %}
            {% render 'product-card.vasora', product: item %}
          {% else %}
            <div class="search-item"><a href="{{ item.url }}">{{ item.title }}</a></div>
          {% endif %}
        {% endfor %}
        <div class="pagination">
          {% if paginate.previous %}<a href="{{ paginate.previous.url }}">Previous</a>{% endif %}
          {% for part in paginate.parts %}
            {% if part.is_link %}<a href="{{ part.url }}">{{ part.title }}</a>
            {% else %}<span aria-current="page">{{ part.title }}</span>{% endif %}
          {% endfor %}
          {% if paginate.next %}<a href="{{ paginate.next.url }}">Next</a>{% endif %}
        </div>
      {% endpaginate %}
    </div>
  {% endif %}
</div>
